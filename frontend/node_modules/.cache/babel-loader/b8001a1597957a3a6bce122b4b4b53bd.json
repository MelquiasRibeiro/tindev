{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\JavaS\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\JavaS\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\JavaS\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\JavaS\\\\frontend\\\\src\\\\pages\\\\Main.js\";\nimport React, { useEffect, useState } from 'react';\nimport { link } from 'react-router-dom';\nimport './Main.css';\nimport api from '../services/Api';\nimport logo from \"../assets/logo.svg\";\nimport like from \"../assets/like.svg\";\nimport dislike from \"../assets/dislike.svg\";\nexport default function Main(_ref) {\n  var match = _ref.match;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      users = _useState2[0],\n      setUsers = _useState2[1];\n\n  useEffect(function () {\n    function loadUsers() {\n      return _loadUsers.apply(this, arguments);\n    }\n\n    function _loadUsers() {\n      _loadUsers = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return api.get('devs', {\n                  headers: {\n                    user: match.params.id\n                  }\n                });\n\n              case 2:\n                response = _context.sent;\n                setUsers(response.data);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _loadUsers.apply(this, arguments);\n    }\n\n    loadUsers();\n  }, [match.params.id]);\n\n  function handleLike(_x) {\n    return _handleLike.apply(this, arguments);\n  }\n\n  function _handleLike() {\n    _handleLike = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2(id) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return api.post(\"/devs/\".concat(id, \"/likes\"), null, {\n                headers: {\n                  user: match.params.id\n                }\n              });\n\n            case 2:\n              setUsers(users.filter(function (user) {\n                return user._id !== id;\n              }));\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _handleLike.apply(this, arguments);\n  }\n\n  function handleDislike(_x2) {\n    return _handleDislike.apply(this, arguments);\n  }\n\n  function _handleDislike() {\n    _handleDislike = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3(id) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return api.post(\"/devs/\".concat(id, \"/dislikes\"), null, {\n                headers: {\n                  user: match.params.id\n                }\n              });\n\n            case 2:\n              setUsers(users.filter(function (user) {\n                return user._id !== id;\n              }));\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    return _handleDislike.apply(this, arguments);\n  }\n\n  return React.createElement(\"div\", {\n    className: \"main-countainer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: logo,\n    alt: \"Tindev\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }), users.length > 0 ? React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, users.map(function (user) {\n    return React.createElement(\"li\", {\n      key: user._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: user.avatar,\n      alt: user.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), React.createElement(\"footer\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, user.name), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, user.bio)), React.createElement(\"div\", {\n      className: \"buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      onClick: function onClick() {\n        return handleDislike(user._id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: dislike,\n      alt: \"Dislike\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: function onClick() {\n        return handleLike(user._id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: like,\n      alt: \"Like\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }))));\n  })) : React.createElement(\"div\", {\n    className: \"empty\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \" Sem mais usuarios \"));\n}","map":{"version":3,"sources":["C:\\JavaS\\frontend\\src\\pages\\Main.js"],"names":["React","useEffect","useState","link","api","Main","match","users","setUsers","loadUsers","get","headers","user","params","id","response","data","handleLike","post","filter","_id","handleDislike","logo","length","map","avatar","name","bio","dislike","like"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from  'react';\r\nimport {link} from 'react-router-dom';\r\nimport './Main.css';\r\n\r\nimport api from '../services/Api';\r\n\r\nimport logo from  '../assets/logo.svg';\r\nimport like from  '../assets/like.svg';\r\nimport dislike from  '../assets/dislike.svg';\r\n\r\nexport default function Main({match}){\r\n    const[users,setUsers] = useState([]);\r\n\r\n    useEffect(() => {\r\n\r\n    async function loadUsers() {\r\n        const response = await api.get('devs',{\r\n          headers:{\r\n              user:match.params.id,\r\n          }\r\n        })\r\n        setUsers(response.data);\r\n    }\r\n\r\n    loadUsers();\r\n}, [match.params.id]);\r\n\r\nasync function handleLike(id){\r\n    await api.post(`/devs/${ id }/likes`, null,{\r\n        headers:{ user: match.params.id},\r\n    })\r\n    setUsers(users.filter(user=> user._id !==id ));\r\n}\r\nasync function handleDislike(id){\r\n    await api.post(`/devs/${ id }/dislikes`, null,{\r\n        headers:{ user: match.params.id},\r\n\r\n    })\r\n\r\n    setUsers(users.filter(user=> user._id !==id ));\r\n}\r\n\r\n\r\n      \r\n        \r\n    \r\n    return (\r\n      <div className=\"main-countainer\">\r\n        <img src={logo}  alt =\"Tindev\" />   \r\n            {users.length> 0 ? (\r\n            <ul>\r\n {users.map(user =>(\r\n                <li key={user._id} >\r\n                <img src= {user.avatar} alt= {user.name}/>\r\n                <footer>\r\n                    <strong>{user.name}</strong>\r\n                    <p>{user.bio}</p>\r\n                </footer>\r\n\r\n                <div className= \"buttons\">\r\n                    <button type= \"button\" onClick={()=>handleDislike(user._id)}  > \r\n                    <img src={dislike} alt='Dislike'/>\r\n                    </button>\r\n                    <button type= \"button\" onClick={()=> handleLike(user._id)} > \r\n                    <img src={like} alt='Like'/>\r\n                    </button>\r\n                </div>\r\n            </li>\r\n          ))}\r\n           </ul>\r\n            ) : (\r\n            <div className= \"empty\"> Sem mais usuarios </div> \r\n        )}\r\n\r\n      </div>  \r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}